CREATE OR REPLACE PROCEDURE FORMAT IS
	
	CURSOR KAC IS
	SELECT STUDENT.RNO,STUDENT.SNAME,PERCENT,GRADE
	FROM STUDENT,RESULT
	WHERE STUDENT.RNO=RESULT.RNO;

	F_RNO STUDENT.RNO%TYPE;
	F_SNAME STUDENT.SNAME%TYPE;
	F_PER STUDENT.PERCENT%TYPE;
	F_GRADE RESULT.GRADE%TYPE;
	UPTO NUMBER(2):=70;
	LAST NUMBER(3):=100;
	TOTAL NUMBER(2):=0;
BEGIN
	DBMS_OUTPUT.PUT_LINE('ROLLNO	NAME	PER		GRADE');
	DBMS_OUTPUT.PUT_LINE('********************************************************************************');

	LOOP
	EXIT WHEN UPTO<50;
	OPEN KAC;
	LOOP
	FETCH KAC INTO F_RNO,F_SNAME,F_PER,F_GRADE;
	EXIT WHEN KAC%NOTFOUND;
	IF(F_PER>=UPTO AND F_PER<LAST) THEN
	TOTAL:=TOTAL+1;
	DBMS_OUTPUT.PUT_LINE(F_RNO||'	'||F_SNAME||'	'||F_PER||'	       '||F_GRADE);
	END IF;
	END LOOP;
	DBMS_OUTPUT.PUT_LINE('----------------------------------------------------------------------------');
	DBMS_OUTPUT.PUT_LINE('TOTAL NUMBER OF STUDENTS='||TOTAL);
	DBMS_OUTPUT.PUT_LINE('----------------------------------------------------------------------------');
	CLOSE KAC;
	TOTAL:=0;
	LAST:=UPTO;
	UPTO:=UPTO-10;
	END LOOP;
END FORMAT;
