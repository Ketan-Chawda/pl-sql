CREATE OR REPLACE PROCEDURE BOOK IS

	 CURSOR BOOK_CURSOR IS
	SELECT BID,SID,IDATE FROM ISSUE1
	WHERE ISSUE1.I_ID NOT IN(SELECT I_ID FROM RETURN1);

	F_BID ISSUE1.BID%TYPE;
	F_SID ISSUE1.SID%TYPE;
	F_IDATE ISSUE1.IDATE%TYPE;
	
BEGIN
	OPEN BOOK_CURSOR;
	LOOP
	FETCH BOOK_CURSOR INTO F_BID,F_SID,F_IDATE;
	EXIT WHEN BOOK_CURSOR%NOTFOUND;
	DBMS_OUTPUT.PUT_LINE('******************************************************************');
	DBMS_OUTPUT.PUT_LINE('BOOKNO:-'||F_BID);
	DBMS_OUTPUT.PUT_LINE('STUDENT ID:-'||F_SID);
	DBMS_OUTPUT.PUT_LINE('ISSUE DATE IS:-'||F_IDATE);
	END LOOP;
		
EXCEPTION
	WHEN OTHERS THEN
	DBMS_OUTPUT.PUT_LINE('AN EXCEPTION IS RAISED IN PROCEDURE-BOOK');
END BOOK;
