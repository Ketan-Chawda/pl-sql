DECLARE
	CURSOR P4_CURSOR
	IS SELECT EID,SALARY,HRA,DA,IT
	FROM EMP1;

	ESAL EMP1.SALARY%TYPE;
	EDA EMP1.DA%TYPE;
	EHRA EMP1.HRA%TYPE;
	SIT EMP1.IT%TYPE;
	SNET EMP1.NET%TYPE;
	SID EMP1.EID%TYPE;
BEGIN
	OPEN P4_CURSOR;

	IF(P4_CURSOR%ISOPEN) THEN
	DBMS_OUTPUT.PUT_LINE('YES THE CURSOR IS OPENED SUCCESSFULLY');
	ELSE
	DBMS_OUTPUT.PUT_LINE('NO THE CURSOR IS NOT OPENED');
	END IF;

	LOOP

	FETCH P4_CURSOR INTO SID,ESAL,EHRA,EDA,SIT;

	EXIT WHEN P4_CURSOR%NOTFOUND;

	IF(ESAL>=50000) THEN
	SNET:=ESAL+EDA*0.4+EHRA*0.3+SIT*.2;
	ELSIF(ESAL>=30000 AND ESAL<50000) THEN
	SNET:=ESAL+EDA*.3+EHRA*0.2+SIT*.15;
	ELSE
	SNET:=ESAL+EDA*0.15+EHRA*0.1+SIT*.05;
	END IF;

	UPDATE 
	EMP1
	SET NET=SNET
	WHERE EID=SID;
	END LOOP;
END;



	