DECLARE
	AC NUMBER(6);
	SBAL NUMBER(6,2);
	STYPE VARCHAR2(1);
BEGIN
	AC:='&AC';
	SBAL:='&SBAL';
	STYPE:='&STYPE';

	UPDATE
	ACCOUNT
	SET BAL=BAL+SBAL
	WHERE STYPE='C' AND AC=ACNO;

	SAVEPOINT KETAN;

	UPDATE
	ACCOUNT
	SET BAL=BAL-SBAL
	WHERE STYPE='D' AND AC=ACNO;
	
	SELECT BAL INTO SBAL
	FROM ACCOUNT
	WHERE ACNO=AC;
	
	IF SBAL<500 THEN
	ROLLBACK TO SAVEPOINT KETAN;
	END IF;

	IF(SQL%FOUND) THEN 
	DBMS_OUTPUT.PUT_LINE('YES,THE RECORD IS UPDATED SUCCESSFULLY');
	ELSE
	DBMS_OUTPUT.PUT_LINE('NO,THE RECORD IS NOT UPDATED');
	END IF;	
END;
